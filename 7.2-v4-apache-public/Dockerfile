FROM thecodingmachine/php:7.2-v4-apache

ENV APACHE_DOCUMENT_ROOT=public/ \
	PHP_INI_ALWAYS_POPULATE_RAW_POST_DATA=-1 \
	PHP_INI_MAX_EXECUTION_TIME=240 \
	PHP_INI_MAX_INPUT_VARS=1500 \
	PHP_INI_UPLOAD_MAX_FILESIZE=32M \
	PHP_INI_POST_MAX_SIZE=32M \
	PHP_EXTENSION_GD=1 \
	PHP_EXTENSION_EXIF=1 \
	PHP_EXTENSION_IMAGICK=1 \
	PHP_EXTENSION_IMAP=1 \
	PHP_EXTENSION_INTL=1 \
	PHP_EXTENSION_LDAP=1 \
	PHP_EXTENSION_SOCKETS=1 \
	PHP_EXTENSION_TIDY=1 \
	PHP_EXTENSION_UPLOADPROGRESS=1 \ 
	PHP_EXTENSION_UUID=1 \ 
	PHP_EXTENSION_XMLRPC=1 \ 
	PHP_EXTENSION_XSL=1 \ 
	PHP_EXTENSION_YAML=1 \
	TZ=Europe/Berlin

RUN sudo apt-get update && \
	sudo apt-get install -y --no-install-recommends imagemagick && \
	sudo rm -rf /var/lib/apt/lists/*
